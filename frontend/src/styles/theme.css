/**
 * MnemoLite Dark Theme Design System
 * EPIC-25: Tailwind CSS v4 Design Tokens + Reusable Utilities
 *
 * Architecture:
 * - @theme: Design tokens (colors, spacing, shadows) - single source of truth
 * - @utility: Reusable component patterns with consistent behavior
 * - Component Classes: Complex multi-element patterns
 */

/* ===== DESIGN TOKENS ===== */
@theme {
  /* Custom colors for dark monitoring theme */
  --color-bg-primary: oklch(0.129 0.042 264.695);      /* slate-950 */
  --color-bg-secondary: oklch(0.208 0.042 265.755);    /* slate-900 */
  --color-bg-tertiary: oklch(0.279 0.041 260.031);     /* slate-800 */

  --color-border-primary: oklch(0.279 0.041 260.031);   /* slate-800 */
  --color-border-secondary: oklch(0.372 0.044 257.287); /* slate-700 */
  --color-border-muted: oklch(0.446 0.03 256.802);      /* slate-600 */

  /* Text colors */
  --color-text-primary: oklch(0.967 0.003 264.542);    /* gray-100 */
  --color-text-secondary: oklch(0.928 0.006 264.531);  /* gray-200 */
  --color-text-muted: oklch(0.707 0.022 261.325);      /* gray-400 */
  --color-text-caption: oklch(0.551 0.027 264.364);    /* gray-500 */

  /* Status colors with opacity variants */
  --color-status-success: oklch(0.84 0.18 117.33);         /* emerald-500 */
  --color-status-success-light: oklch(0.92 0.19 114.08);   /* emerald-400 */
  --color-status-success-lighter: oklch(0.99 0 0);         /* emerald-300 approx */

  --color-status-warning: oklch(0.84 0.18 90);             /* amber-500 */
  --color-status-warning-light: oklch(0.92 0.19 90);       /* amber-400 */
  --color-status-warning-lighter: oklch(0.99 0.15 90);     /* amber-300 approx */

  --color-status-error: oklch(0.627 0.258 29.234);         /* red-500 */
  --color-status-error-light: oklch(0.707 0.221 27.325);   /* red-400 */
  --color-status-error-lighter: oklch(0.771 0.159 25.331); /* red-300 */

  --color-status-info: oklch(0.831 0.139 195.8);           /* cyan-500 */
  --color-status-info-light: oklch(0.913 0.139 195.8);     /* cyan-200 */

  /* Custom shadows for dark theme */
  --shadow-card: 0 10px 15px -3px rgb(0 0 0 / 0.5), 0 4px 6px -4px rgb(0 0 0 / 0.5);
  --shadow-card-hover: 0 20px 25px -5px rgb(0 0 0 / 0.7), 0 8px 10px -6px rgb(0 0 0 / 0.7);
}

/* ===== CARD COMPONENTS ===== */
@layer components {
  .card-success {
    background-color: var(--color-bg-secondary);
    border-width: 2px;
    padding: --spacing(6);
    transition-property: all;
    transition-duration: 200ms;
    border-color: oklch(from var(--color-status-success) l c h / 0.3);
  }

  .card-success:hover {
    @media (hover: hover) {
      border-color: oklch(from var(--color-status-success) l c h / 0.6);
      box-shadow: var(--shadow-card-hover);
    }
  }

  .card-warning {
    background-color: var(--color-bg-secondary);
    border-width: 2px;
    padding: --spacing(6);
    transition-property: all;
    transition-duration: 200ms;
    border-color: oklch(from var(--color-status-warning) l c h / 0.3);
  }

  .card-warning:hover {
    @media (hover: hover) {
      border-color: oklch(from var(--color-status-warning) l c h / 0.6);
      box-shadow: var(--shadow-card-hover);
    }
  }

  .card-error {
    background-color: var(--color-bg-secondary);
    border-width: 2px;
    padding: --spacing(6);
    transition-property: all;
    transition-duration: 200ms;
    border-color: oklch(from var(--color-status-error) l c h / 0.3);
  }

  .card-error:hover {
    @media (hover: hover) {
      border-color: oklch(from var(--color-status-error) l c h / 0.6);
      box-shadow: var(--shadow-card-hover);
    }
  }

  .card-info {
    background-color: var(--color-bg-secondary);
    border-width: 2px;
    padding: --spacing(6);
    transition-property: all;
    transition-duration: 200ms;
    border-color: oklch(from var(--color-status-info) l c h / 0.3);
  }

  .card-info:hover {
    @media (hover: hover) {
      border-color: oklch(from var(--color-status-info) l c h / 0.6);
      box-shadow: var(--shadow-card-hover);
    }
  }

  .card-neutral {
    background-color: var(--color-bg-secondary);
    border-width: 2px;
    padding: --spacing(6);
    transition-property: all;
    transition-duration: 200ms;
    border-color: var(--color-border-secondary);
  }

  .card-neutral:hover {
    @media (hover: hover) {
      border-color: var(--color-border-muted);
      box-shadow: var(--shadow-card-hover);
    }
  }
}

/* ===== BUTTON COMPONENTS ===== */
@layer components {
  .btn-primary {
    padding-inline: --spacing(4);
    padding-block: --spacing(2);
    font-weight: var(--font-weight-medium);
    transition-property: colors;
    border-width: 1px;
    background-color: var(--color-bg-tertiary);
    color: var(--color-text-primary);
    border-color: var(--color-border-muted);
  }

  .btn-primary:hover:not(:disabled) {
    @media (hover: hover) {
      background-color: var(--color-border-muted);
    }
  }

  .btn-primary:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .btn-success {
    padding-inline: --spacing(4);
    padding-block: --spacing(2);
    font-weight: var(--font-weight-medium);
    transition-property: colors;
    border-width: 1px;
    background-color: oklch(from var(--color-status-success) calc(l * 0.7) c h);
    color: var(--color-text-primary);
    border-color: var(--color-status-success);
  }

  .btn-success:hover:not(:disabled) {
    @media (hover: hover) {
      background-color: oklch(from var(--color-status-success) calc(l * 0.8) c h);
    }
  }

  .btn-success:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .btn-danger {
    padding-inline: --spacing(4);
    padding-block: --spacing(2);
    font-weight: var(--font-weight-medium);
    transition-property: colors;
    border-width: 1px;
    background-color: oklch(from var(--color-status-error) calc(l * 0.7) c h);
    color: var(--color-text-primary);
    border-color: var(--color-status-error);
  }

  .btn-danger:hover:not(:disabled) {
    @media (hover: hover) {
      background-color: oklch(from var(--color-status-error) calc(l * 0.8) c h);
    }
  }

  .btn-danger:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .btn-ghost {
    padding-inline: --spacing(4);
    padding-block: --spacing(2);
    font-weight: var(--font-weight-medium);
    transition-property: colors;
    border-width: 1px;
    background-color: transparent;
    color: var(--color-text-muted);
    border-color: transparent;
  }

  .btn-ghost:hover:not(:disabled) {
    @media (hover: hover) {
      color: var(--color-text-secondary);
      background-color: var(--color-bg-tertiary);
    }
  }

  .btn-ghost:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
}

/* ===== TEXT COMPONENTS ===== */
@layer components {
  .text-heading {
    color: var(--color-text-primary);
    font-weight: var(--font-weight-bold);
    text-transform: uppercase;
    letter-spacing: var(--tracking-wide);
  }

  .text-subheading {
    color: var(--color-text-primary);
    font-weight: var(--font-weight-semibold);
    text-transform: uppercase;
    letter-spacing: var(--tracking-wider);
  }
}

/* ===== COMPONENT PATTERNS ===== */
@layer components {
  .nav-bar {
    background-color: var(--color-bg-secondary);
    border-bottom: 1px solid var(--color-border-primary);
    position: sticky;
    top: 0;
    z-index: 50;
  }

  .nav-link {
    padding-inline: --spacing(3);
    padding-block: --spacing(2);
    font-size: var(--text-sm);
    font-weight: var(--font-weight-medium);
    transition-property: colors;
    color: var(--color-text-muted);
  }

  .nav-link:hover {
    @media (hover: hover) {
      color: var(--color-text-secondary);
      background-color: var(--color-bg-tertiary);
    }
  }

  .nav-link-active {
    padding-inline: --spacing(3);
    padding-block: --spacing(2);
    font-size: var(--text-sm);
    font-weight: var(--font-weight-medium);
    transition-property: colors;
    background-color: var(--color-bg-tertiary);
    color: var(--color-status-info);
    border-bottom: 2px solid var(--color-status-info);
  }

  .section {
    background-color: var(--color-bg-secondary);
    border: 1px solid var(--color-border-primary);
    padding: --spacing(6);
  }

  .alert-error {
    margin-bottom: --spacing(6);
    border-left-width: 4px;
    padding: --spacing(4);
    background-color: oklch(from var(--color-status-error) calc(l * 0.3) c h / 0.5);
    border-left-color: var(--color-status-error);
  }

  .alert-warning {
    margin-bottom: --spacing(6);
    border-left-width: 4px;
    padding: --spacing(4);
    background-color: oklch(from var(--color-status-warning) calc(l * 0.3) c h / 0.5);
    border-left-color: var(--color-status-warning);
  }

  .alert-success {
    margin-bottom: --spacing(6);
    border-left-width: 4px;
    padding: --spacing(4);
    background-color: oklch(from var(--color-status-success) calc(l * 0.3) c h / 0.5);
    border-left-color: var(--color-status-success);
  }

  .alert-info {
    margin-bottom: --spacing(6);
    border-left-width: 4px;
    padding: --spacing(4);
    background-color: oklch(from var(--color-status-info) calc(l * 0.3) c h / 0.5);
    border-left-color: var(--color-status-info);
  }

  .input {
    width: 100%;
    padding-inline: --spacing(3);
    padding-block: --spacing(2);
    background-color: var(--color-bg-secondary);
    border: 1px solid var(--color-border-secondary);
    color: var(--color-text-secondary);
    transition-property: colors;
  }

  .input::placeholder {
    color: var(--color-text-caption);
  }

  .input:focus {
    border-color: var(--color-status-info);
    outline: none;
    box-shadow: 0 0 0 1px var(--color-status-info);
  }

  .label {
    display: block;
    font-size: var(--text-sm);
    font-weight: var(--font-weight-medium);
    color: var(--color-text-muted);
    margin-bottom: --spacing(2);
  }

  .badge-success {
    display: inline-flex;
    align-items: center;
    padding-inline: --spacing(2.5);
    padding-block: --spacing(0.5);
    font-size: var(--text-xs);
    font-weight: var(--font-weight-medium);
    background-color: oklch(from var(--color-status-success) calc(l * 0.4) c h / 0.5);
    color: var(--color-status-success-lighter);
    border: 1px solid oklch(from var(--color-status-success) l c h / 0.3);
  }

  .badge-warning {
    display: inline-flex;
    align-items: center;
    padding-inline: --spacing(2.5);
    padding-block: --spacing(0.5);
    font-size: var(--text-xs);
    font-weight: var(--font-weight-medium);
    background-color: oklch(from var(--color-status-warning) calc(l * 0.4) c h / 0.5);
    color: var(--color-status-warning-lighter);
    border: 1px solid oklch(from var(--color-status-warning) l c h / 0.3);
  }

  .badge-error {
    display: inline-flex;
    align-items: center;
    padding-inline: --spacing(2.5);
    padding-block: --spacing(0.5);
    font-size: var(--text-xs);
    font-weight: var(--font-weight-medium);
    background-color: oklch(from var(--color-status-error) calc(l * 0.4) c h / 0.5);
    color: var(--color-status-error-lighter);
    border: 1px solid oklch(from var(--color-status-error) l c h / 0.3);
  }

  .badge-info {
    display: inline-flex;
    align-items: center;
    padding-inline: --spacing(2.5);
    padding-block: --spacing(0.5);
    font-size: var(--text-xs);
    font-weight: var(--font-weight-medium);
    background-color: oklch(from var(--color-status-info) calc(l * 0.4) c h / 0.5);
    color: var(--color-status-info-light);
    border: 1px solid oklch(from var(--color-status-info) l c h / 0.3);
  }
}
